## Zesty.io RFC 0001

The Social Curator tool is currently built into the core of Zesty, I propose it should not be. When we built the Social Curator tool, we did abstract each of the services Twitter Facebook and Instagram into their own classes. Each one of those classes required the authorization token of the service in order to return a result, all of this was built directly into our core. This is what we're going to change and what I'm imagining is that we abstract all this out into services that do not live on zesty but rather consume the Zesty APIs over HTTP. This will allow us to extend the platform while still using the same user interface built-in (possible wrap that and encapsulate its state machine) and it would essentially become the first app in our Marketplace. The Social Curator tool would wholly just consume the accounts API and the instances API. To make this a reality, I foresee four things we need in place: the first is a way to create developer tokens that can be stored on a service for example it could be in the ENV that is stored in the cloud. Second we need the instance API to be able to accept content (we are currently working on our way towards). Third will need a new authorization flow and a way to access authorization tokens from third parties like Facebook Instagram GitHub Etc. Forth will need a new way to construct or encapsulate the social media curator within the zesty manager interface.

Solving for this will put zesty software in a position to be extensible to developers. It will also give our product the ability to solve specific problem sets for customers.

## Distributing tokens to access the APIs

The ability to distribute tokens that give stateless, programatic access to our instances API is necessary to run external programs. External service would store / authorize zesty in-store that token. That way when the instances requesters made-it can control and insert content. These tokens would be created, granted, and accessed through the accounts UI. API tokens would be attached to custom roles on the instance, which works out well as they already have set permissions. Tokens would need to setup to both never expire and expire. Some tokens may need to refresh. Third party apps will need to have a different token, in which they can then authorize instances to their token. So if this token would allow any app to then authorize specific zesty instances.

To give an example if I built the Social Curator or tool as an external service I would register that application with zesty and get my own application token. When zesty user subscribes to it, they need to authorize their instance through my application and I would store a token that is zesty token that is registered to my application in the zesty system. With that token, the 3rd party app could run zesty api operations on the authorized instance's behalf.

## Authorization flow for Integrations

Zesty currently has random authorization flows scattered throughout the product, there's some in the accounts app there's some in the manager app and they're not stored in a consistent database structure. To be successful, we need to design a consistent workflow for 3rd party authorization and token storage for both instances and users. Instances would have their own authorizations, user would have their own authorizations. Particularly the GitHub integration spec currently requires a way to access the Github authorization token for the zesty user. Existing functionality and new tools in the system and also require access to your authorization tokens (if they are consuming third-party applications like Facebook or Instagram and eventually eventually other services like HubSpot or Salesforce). This gives a quick way to create new Integrations while being open and more extensible in the true fashion of internet software. Easy integrations is a core part of the culture of our software.

## The social curator tool and other component add-ons to zesty

The Social Curator tool was built as a feature to satisfy a Prospect customer requirement. We rapidly developed this prototype and doing so we had it match the same structure that all content collections data types follow. We did this so parsley could access it in the same way it accesses collection data. And by doing this we  learned that there are no limits to the structure that could be made with Zesty's content configurator, hence you could build any experience around it if each collection have a unique UI (javascript and css) to control it along with access to external data. With that in mind, anyone could build a whole new experience around any content collection.

So the goal of the current social curator is to remove all the moving pieces outside of Zesty's core structure and externalize it. It would fully consume the new instances API which allows the creation, editing, deleting of collections (data structures) and their content items. Currently the social curator tool has a mongo database that runs on an external service, a task manager that runs an external service in AWS, the authorization flow that happens inside of the zesty manager for Twitter Instagram Facebook. The classes and structures that connect to the different Services Instagram Facebook Twitter to access the feeds are tied to the "core" in PHP. The last thing that connects it all is the zesty interface which stores directly to our database rather than using are pre-existing collections data type insert structure. Now we need to look at these different parts and see how we can extrapolate them into their own functional parts that are not part of zesty's core. The last part is how we can run the UI with directly contributing it to our manager-ui. This paves the way for Marketplace of components that people can build react apps or whatever type of encapsulated user interfaces with JavaScript and CSS that can be loaded inside of our application wholly built off our APIs and their external service calls.

## Encapsulating new UI components

Essentially if these applications can be built around the API services there's no limit in what could be built essentially somebody could re-skin all of zesty somebody could make a user interface that's just like Squarespace or webflow and it makes it completely open and is our primary purpose is service and that service of the API of infrastructure. UI could be loaded from encapsulated packages of CSS/Javascript, these could be stored on Github and registered through our accounts system.
